# 1.1 概述

Kotlin(俄罗斯岛屿名)由JetBrains设计开发的静态类型语言，支持JVM/ART、JS Engine、NativeCode方式运行。
兼容Java，比Java更安全(空指针检测)、更简洁(类型推导、函数式)，比Scala(数据领域Spark、Kafka、Akka项目的开发语言)更容易上手。

- 官方文档: https://kotlinlang.org/docs/home.html
- 中文站: https://www.kotlincn.net/docs/reference
- 开源库: https://github.com/jetbrains/kotlin

## 编译运行
![Kt-Compiler](./.asset/kt-compiler.png)

*注*: 得到`.class`文件后，可使用`jd-gui`反编译查看Java代码。也可在IDEA中:Tools-Kotlin-Bytecode-Decompile


```js
// 环境安装
brew install kotlin

// (1)编译生成 MainKt.class 并执行main方法
kotlinc-jvm Main.kt && kotlin com.MainKt

// (2.1)打包成jar 会自动处理包结构，并查找main函数配置主类，但没包含kotlin运行时
kotlinc -d main.jar ./src/
// 运行时需将Kotlin库包含进来, 如 java -cp kotlin-stdlib.jar
kotlin -cp main.jar:$KOTLIN_HOME/libexec/lib/kotlin-stdlib.jar com.MainKt
// (2.2)打包jar并将kotlin运行时打进jar包
kotlinc -d main.jar --include-runtime ./src/
// 即可按jar包执行, 如 java -jar main.jar
kotlin main.jar

// (3)Kotlin也可以按脚本方式执行
kotlin main.kts [args]

// (4)不传参数直接进入REPL环境；使用`kotlin`无参命令可进入Read-Eval-Print-Loop交互式编程环境，快速运行
kotlin
>>> import java.util.Date
>>> Date()
```

其中, 运行`main.kts`依赖`org.jetbrains.kotlin:kotlin-script-runtime:+`

```kotlin
import java.io.File
// kotlin main.kts -d ~/Downloads
val path = if (args.contains("-d")) args[1 + args.indexOf("-d")] else "."
File(path).listFiles { _ -> true }?.forEach { println(it) }
```