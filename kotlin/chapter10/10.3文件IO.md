# 10.3 文件IO

## 标准IO
1. 读取`readLine()`得到String，进而可通过`toXx()`转换。
2. 输出`print()`


## 文件操作
1. 读: 
    - `file.readText()/readLines()/readBytes()`
    - `file.reader()/bufferedReader/inputStream()`
2. 写: 
    - `file.writeText()/appendText()/writeBytes()`
    - `file.writer()/bufferedWriter()/outputStream()`
3. 遍历文件树: `file.walk().iterator()`
4. 文件/目录复制: `file.copyRecursively()`


## 网络IO
1. 读: `url.readText()/readBytes()`
2. 写: `url.openConnection().getOutputStream()`

## 拓展执行Shell命令
Shell命令在Java中使用`Runtime.getRuntime().exec(cmdStr)`执行。

```kotlin
fun String.execute(): Process {
    return Runtime.getRuntime().exec(this)
}

fun Process.text(): String {
    val input = BufferedReader(InputStreamReader(this.inputStream))
    val output = StringBuilder()
    var line: String?
    do {
        line = input.readLine()?.also { output.appendLine(it) }
    } while (line != null)
    return output.toString()
}

fun main() = runBlocking(Dispatchers.IO) {
    val p = "ls -al".execute()
    println("exitCode:${p.waitFor()}, text:${p.text()}")
}
```

