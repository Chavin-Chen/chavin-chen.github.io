# 9.8 二进制应用

## 出现奇数次的数
一组数中，除了N只出现过1次，其他数都出现过2次，请找出N。

```cpp
int findN(int* arr, int len) {
    int ans = 0;
    for (int i = 0; i < len; i++) {
        ans ^= arr[i];
    }
    return ans;
}
```

## 不使用算术运算求N/3
给出正整数N，要求不使用`+ - * /`运算符，求出N/3。

```cpp
// 任意正整数 n =  4 * (n/4) + (n%4) = 4a+b; 故有 n/3 = a + (a+b)/3
int divBy3(int n) {
    int res = 0;
    while (n > 3) {
        res = _add(n >> 2, res); // res += a;
        n = _add(n >> 2, n & 3); // n = a+b;
    }
    if (n == 3) res = _add(res, 1);
    return res;
}
```

## 统计二进制中1的个数

```cpp
// 左移1去对比每个位
// O(N),N为bit数
int countBit0(int x) {
    int ans = 0;
    int flag = 1;
    while (flag) {
        if (x & flag) {
            ans++;
        }
        flag <<= 1;
    }
    return ans;
}

// 每次去掉最右的1
// O(k),k为bit值是1的数目
int countBit1(int x) {
    int ans = 0;
    while (x) {
        ans++;
        x &= x - 1;
    }
    return ans;
}

// 分治，划区统计
// O(log(N)),N为bit数
int countBit2(int x) {
    x = (x & 0x55555555) + ((x >> 1) & 0x55555555);
    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);
    x = (x & 0x0f0f0f0f) + ((x >> 4) & 0x0f0f0f0f);
    x = (x & 0x00ff00ff) + ((x >> 8) & 0x00ff00ff);
    x = (x & 0x0000ffff) + ((x >> 16) & 0x0000ffff); // 分区统计
    return x;
}
```