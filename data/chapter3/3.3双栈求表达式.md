# 3.3 双栈求表达式

## 中缀式转后缀式
1. 加括号：按运算次序加括号：`((a+(b*c)) + (((d*e)+f)*g))`
2. 移符号：将运算符移到括号的后：`((a(bc)*)+(((de)*f)+g)*)+`
3. 去括号：得到后缀式：`abc*+de*f+g*+`；后缀式求值：遇到符号即计算。

## 双栈求中缀式值
对于含括号的混合运行，可先把中缀式转后缀式，然后再求后缀式的值。

规定优先级：`)`为最低优的0级、`+-`为1级、`*/`为2级、`(`为3级最高优。遍历输入串：
1. 如果是数字，直接压入数字栈。
2. 如果是符号，比较栈顶符号：
	- 符号栈为空 或 当前符号优先于栈顶符号，符号【入栈】。
	- 若当前符号低于栈顶优先级时：
        - 若栈顶为最高优的左括号`(`：
            - 当前是右括号`)`，栈顶左括号【出栈】。
            - 当前为其他运算符，则当前运算符【入栈】。
	    - 栈顶为其他非左括号运算符，则栈顶更高优的运算符【出栈】，数字栈弹出2数运算后结果入数字栈。

表达式遍历完成后，清空符号栈计算得出最终结果。

```cpp
{% include "./code/双栈计算中缀表达式.cpp" %}
```
