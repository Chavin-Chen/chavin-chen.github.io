# 6.2 拓扑序

TOPO排序可以用来判断有向图中是否有环，TOPO序列是AOV中活动合理发生的顺序之一。

## Kahn算法
本质上是BFS，复杂度`O(v+e)`：
- 选择一个入度为0的顶点v输出
- 去掉v的所有出边，再重复上一步。

## DFS求TOPO序
1. 判断是否是DAG，复杂度O(v):
	- 顶点状态记录：0未访问，1访问中，2已访问
	- 纵向搜索，如果找到访问中的顶点说明非DAG，否则即为DAG。
2. 深度搜索找出TOPO序列，复杂度O(e)：
	- 纵向搜索与当前顶点邻接且未访问的顶点
	- 再把当前顶点压入栈中
	- 顶点出栈即为TOPO序列

```cpp
{% include "./code/DAG判断与TOPO序列.cpp" %}
```