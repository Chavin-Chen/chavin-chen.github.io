# 1.1 编译运行

## 配置JDK环境

```bash
# 安装OpenJDK
brew install openjdk@11

# 配置.bash_profile，支持手动切换Java版本
JAVA_8_HOME='/usr/local/opt/openjdk@8'
JAVA_11_HOME='/usr/local/opt/openjdk@11'
JAVA_18_HOME='/usr/local/opt/openjdk@18'
export JAVA_HOME=$JAVA_11_HOME
export PATH="$PATH:$JAVA_HOME/bin"
export CPPFLAGS="-I$JAVA_HOME/include"

# Ubuntu中可使用命令切换
sudo update-alternatives --config java

# 查看Java版本
java --version
```

## 构建与分析
用`javac`编译、`jar`打包解包、`javap`反编译。

```bash
# 批量编译
javac -s <sorceFolder> -d <classFolder> *.java

# 生成jar包, -C 表示打包是忽略该路径前缀
jar -c -f target.jar [-e com.test.Main] -C ./java/main ./
# 解压jar包到当前目录，或使用 unzip target.jar -d ./sub/ 指定解压目录
jar -xf target.jar 

# 执行, 注意java -jar时，即使传入classpath也会被忽略
java -classpath <dir/zip/jar> com.test.Main [cmd args]
java -jar main.jar [cmd args]

# 反编译 -c查看反汇编代码，-s查看签名
javap -c Main.class
javap -v -p Main.class

# 若只有单个文件，可快速编译并执行
java Main.java
```
