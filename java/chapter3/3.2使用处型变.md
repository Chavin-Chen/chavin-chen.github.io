# 3.2 使用处型变

- 子类型通配`List<? extends Super>` 用于支持协变(从集合读取)
- 超类型通配`List<? super Child>` 用于支持逆变(向集合写入)
- 无限通配符`List<?>` 只能读出`Object`对象，只能写入`null`

```java
// PECS法则
// Producer-Extends：只读不写，即只从`List<? extends Super>`取数据
// Consumer-Super：只写不读，即只向`List<? super Child>`写数据

// Collections
public static <T> void copy(List<? super T> dest, List<? extends T> src) {
    int srcSize = src.size();
    if (srcSize < 10 || src instanceof RandomAccess && dest instanceof RandomAccess) {
        for (int i = 0; i < srcSize; ++i) dest.set(i, src.get(i));
    } else {
        ListIterator<? super T> di = dest.listIterator(); // in T
        ListIterator<? extends T> si = src.listIterator(); // out T
        for (int i = 0; i < srcSize; ++i) {
            di.next();
            di.set(si.next());
        }
    }
}
```
